<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradeBotPro - Automate Your Trading</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Dark background for a professional tech feel */
            color: #e6edf3; /* Light text for contrast */
        }
        .gradient-bg {
            background: linear-gradient(135deg, #1a202c, #2d3748);
        }
        .btn-primary {
            background-image: linear-gradient(to right, #10B981, #059669); /* Green gradient */
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(16, 185, 129, 0.4);
        }
        .btn-secondary {
            background-color: #4a5568; /* Grayish blue */
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(74, 85, 104, 0.4);
        }
        .feature-card {
            background-color: #161b22; /* Slightly lighter dark for cards */
            border: 1px solid #30363d;
            transition: transform 0.2s ease-in-out;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        /* Custom Modal Styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.7); /* Black w/ opacity */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: #1a202c;
            margin: auto;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }
        .close-button {
            color: #aaa;
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: #e6edf3;
            text-decoration: none;
            cursor: pointer;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Comparison Table Styles */
        .comparison-table th, .comparison-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #30363d;
        }
        .comparison-table th {
            background-color: #1a202c;
            color: #e6edf3;
            font-weight: 600;
        }
        .comparison-table tbody tr:last-child td {
            border-bottom: none;
        }
        .check-icon {
            color: #10B981; /* Green check */
        }
        .cross-icon {
            color: #EF4444; /* Red cross */
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-gray-900 shadow-lg py-4 px-6 flex justify-between items-center fixed w-full z-50">
        <div class="flex items-center space-x-3">
            <svg class="w-8 h-8 text-green-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l3 3a1 1 0 001.414-1.414L11 9.586V6z" clip-rule="evenodd"></path>
            </svg>
            <h1 class="text-3xl font-bold text-white">TradeBotPro <span class="text-green-400">Pro Version</span></h1>
        </div>
        <nav>
            <a href="#features" onclick="scrollToSection('features')" class="text-gray-300 hover:text-white px-4 py-2 rounded-md">Features</a>
            <a class='text-gray-300 hover:text-white px-4 py-2 rounded-md' href='/feature_breakdown'>Feature Breakdown</a>
            <a href="#pricing" onclick="scrollToSection('pricing')" class="text-gray-300 hover:text-white px-4 py-2 rounded-md">Pricing</a>
            <a class='text-gray-300 hover:text-white px-4 py-2 rounded-md' href='/help'>Help</a>
        </nav>
    </header>

    <section class="relative h-screen flex items-center justify-center text-center text-white overflow-hidden gradient-bg">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="relative z-10 p-8 max-w-4xl mx-auto">
            <h2 class="text-5xl md:text-6xl font-extrabold leading-tight mb-6 animate-pulse-slow">
                Unlock Your Trading Potential with <span class="text-green-400">TradeBotPro Pro Version</span>
            </h2>
            <p class="text-xl md:text-2xl mb-8 opacity-90">
                Intelligent Automation for Stocks & Options. Maximize Profits, Minimize Manual Effort.
            </p>
            <div class="space-x-4">
                <button onclick="scrollToSection('pricing')" class="btn-primary text-lg md:text-xl font-semibold py-3 px-8 rounded-lg shadow-lg">
                    Get the Pro Version
                </button>
                <button onclick="scrollToSection('pricing')" class="btn-secondary text-lg md:text-xl font-semibold py-3 px-8 rounded-lg shadow-lg">
                    Get Lite Version
                </button>
            </div>
        </div>
    </section>

    <section id="features" class="py-16 px-6 bg-gray-900">
        <h2 class="text-4xl font-bold text-center mb-12 text-white">Why Choose TradeBotPro?</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
            
            <div class="feature-card p-6 rounded-lg shadow-xl flex flex-col items-center text-center">
                <svg class="w-16 h-16 text-blue-400 mb-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 013 14v3a1 1 0 001 1h12a1 1 0 001-1v-3a1 1 0 01-.293-.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 110-6 3 3 0 010 6z"></path></svg>
                <h3 class="text-2xl font-semibold mb-3 text-green-300">Advanced AI Decision-Making</h3>
                <p class="text-gray-400 mb-4">Leveraging cutting-edge algorithms and technical indicators (RSI, MACD) for precise trade entry and exit points.</p>
                <p class="text-green-200 font-medium italic"> Profit Example: "Imagine identifying a momentum breakout in TSLA, entering at $180, and exiting at $185 for a swift <span class="text-green-400 font-bold">$500 profit</span> on a single day trade." </p>
            </div>
            <div class="feature-card p-6 rounded-lg shadow-xl flex flex-col items-center text-center">
                <svg class="w-16 h-16 text-purple-400 mb-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path></svg>
                <h3 class="text-2xl font-semibold mb-3 text-green-300">Fractional Share Trading</h3>
                <p class="text-gray-400 mb-4">Maximize every dollar. Invest in high-value stocks like NVDA or GOOG with as little as $1, ensuring no capital sits idle.</p>
                <p class="text-green-200 font-medium italic"> Profit Example: "Even with just $25, TradeBotPro can buy 0.02 shares of a $1200 stock, turning a 5% gain into a <span class="text-green-400 font-bold">$1.25 profit</span> that compounds over time." </p>
            </div>
            <div class="feature-card p-6 rounded-lg shadow-xl flex flex-col items-center text-center">
                <svg class="w-16 h-16 text-red-400 mb-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm-7-9a1 1 0 000 2h14a1 1 0 100-2H3z" clip-rule="evenodd"></path></svg>
                <h3 class="text-2xl font-semibold mb-3 text-green-300">Experimental Options Trading</h3>
                <p class="text-gray-400 mb-4">Explore high-leverage opportunities. Our bot includes an experimental module for simplified options trading (Pro Version Only).</p>
                <p class="text-green-200 font-medium italic"> Risk/Reward Example: "A small options contract investment of $50, if successful, could yield a <span class="text-green-400 font-bold">$500 profit</span>. High risk, high reward." </p>
            </div>
             <div class="feature-card p-6 rounded-lg shadow-xl flex flex-col items-center text-center">
                <svg class="w-16 h-16 text-green-400 mb-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 11a1 1 0 011-1h14a1 1 0 011 1v1a1 1 0 01-1 1H3a1 1 0 01-1-1v-1zm1-4a1 1 0 011-1h14a1 1 0 011 1v1a1 1 0 01-1 1H3a1 1 0 01-1-1V7zm1-4a1 1 0 011-1h14a1 1 0 011 1v1a1 1 0 01-1 1H4a1 1 0 01-1-1V3z"></path></svg>
                <h3 class="text-2xl font-semibold mb-3 text-green-300">Comprehensive Portfolio Management</h3>
                <p class="text-gray-400 mb-4">TradeBotPro not only executes trades but also monitors your portfolio, rebalancing as needed to maintain your desired risk profile and optimize returns.</p>
                <p class="text-green-200 font-medium italic"> Benefit: "By automatically rebalancing, a diversified portfolio that started at $10,000 could avoid significant drawdowns and potentially generate an additional <span class="text-green-400 font-bold">$1,000 annually</span> compared to a static approach." </p>
            </div>

            <div class="feature-card p-6 rounded-lg shadow-xl flex flex-col items-center text-center">
                <svg class="w-16 h-16 text-yellow-400 mb-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a8 8 0 100 16 8 8 0 000-16zM2 10a8 8 0 018-8v8H2z" clip-rule="evenodd"></path></svg>
                <h3 class="text-2xl font-semibold mb-3 text-green-300">Real-time Market Data & Alerts</h3>
                <p class="text-gray-400 mb-4">Stay ahead with lightning-fast market data feeds. Receive instant alerts on significant price movements, news, and trading opportunities directly to your preferred device.</p>
                <p class="text-green-200 font-medium italic"> Advantage: "Getting an alert on a sudden 3% price drop in your watched stock allows for immediate protective action, potentially saving <span class="text-green-400 font-bold">$300 on a $10,000 position</span> from further losses." </p>
            </div>

            <div class="feature-card p-6 rounded-lg shadow-xl flex flex-col items-center text-center">
                <svg class="w-16 h-16 text-cyan-400 mb-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 013 14v3a1 1 0 001 1h12a1 1 0 001-1v-3a1 1 0 01-.293-.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 110-6 3 3 0 010 6z"></path></svg>
                <h3 class="text-2xl font-semibold mb-3 text-green-300">Customizable Strategies & Backtesting</h3>
                <p class="text-gray-400 mb-4">Tailor the bot's behavior to your unique trading style. Design and backtest custom strategies against historical data to validate profitability before risking real capital.</p>
                <p class="text-green-200 font-medium italic"> Optimization: "Backtesting a new strategy on 5 years of historical data reveals it would have generated a <span class="text-green-400 font-bold">25% annual return</span>, giving you confidence to deploy it with real money." </p>
            </div>
        </div>
    </section>

    <section id="pricing" class="py-16 px-6 bg-gray-800 text-white">
        <h2 class="text-4xl font-bold text-center mb-12 text-white">Our Pricing Plans</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
            
            <div class="bg-gray-700 p-8 rounded-lg shadow-xl text-center flex flex-col justify-between">
                <div>
                    <h3 class="text-3xl font-bold text-green-300 mb-4">TradeBotPro Lite</h3>
                    <p class="text-5xl font-extrabold mb-6">$49.99 <span class="text-xl font-normal text-gray-400">/ one-time</span></p>
                    <ul class="text-left text-gray-300 space-y-3 mb-8">
                        <li class="flex items-center"><svg class="w-5 h-5 mr-2 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Basic AI-driven Trading</li>
                        <li class="flex items-center"><svg class="w-5 h-5 mr-2 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Stocks Only</li>
                        <li class="flex items-center"><svg class="w-5 h-5 mr-2 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Standard Support</li>
                        <li class="flex items-center text-gray-500"><svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd" transform="rotate(45 10 10)"></path></svg>No Options Trading</li>
                        <li class="flex items-center text-gray-500"><svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd" transform="rotate(45 10 10)"></path></svg>No Advanced Backtesting</li>
                    </ul>
                </div>
                <div id="paypal-button-container-lite" class="mt-6"></div>
            </div>
            
            <div class="bg-gradient-to-r from-green-500 to-green-700 p-8 rounded-lg shadow-xl text-center flex flex-col justify-between transform scale-105">
                <div>
                    <h3 class="text-3xl font-bold text-white mb-4">TradeBotPro Pro</h3>
                    <p class="text-5xl font-extrabold mb-6">$199.99 <span class="text-xl font-normal text-gray-200">/ one-time</span></p>
                    <ul class="text-left text-green-100 space-y-3 mb-8">
                        <li class="flex items-center"><svg class="w-5 h-5 mr-2 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Advanced AI & Fractional Shares</li>
                        <li class="flex items-center"><svg class="w-5 h-5 mr-2 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Stocks & Experimental Options</li>
                        <li class="flex items-center"><svg class="w-5 h-5 mr-2 text-white" fill="currentColor" viewBox="0 0 0 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Premium 24/7 Support</li>
                        <li class="flex items-center"><svg class="w-5 h-5 mr-2 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Advanced Backtesting & Optimization</li>
                        <li class="flex items-center"><svg class="w-5 h-5 mr-2 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Exclusive Updates</li>
                    </ul>
                </div>
                <div id="paypal-button-container-pro" class="mt-6"></div>
            </div>
        </div>
    </section>

    <section class="py-16 px-6 bg-gray-900 text-white">
        <h2 class="text-4xl font-bold text-center mb-12 text-white">Compare Versions</h2>
        <div class="max-w-4xl mx-auto overflow-x-auto">
            <table class="w-full comparison-table text-lg rounded-lg overflow-hidden">
                <thead>
                    <tr>
                        <th class="w-1/3">Feature</th>
                        <th class="w-1/3">TradeBotPro Lite</th>
                        <th class="w-1/3">TradeBotPro Pro</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>AI-driven Trading</td>
                        <td><span class="check-icon">&#10003;</span> Basic</td>
                        <td><span class="check-icon">&#10003;</span> Advanced</td>
                    </tr>
                    <tr>
                        <td>Stocks Trading</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                    </tr>
                    <tr>
                        <td>Fractional Share Trading</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                    </tr>
                    <tr>
                        <td>Experimental Options Trading</td>
                        <td><span class="cross-icon">&#10006;</span> No</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                    </tr>
                    <tr>
                        <td>Portfolio Management</td>
                        <td><span class="check-icon">&#10003;</span> Basic Tracking</td>
                        <td><span class="check-icon">&#10003;</span> Comprehensive</td>
                    </tr>
                    <tr>
                        <td>Real-time Market Data</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                    </tr>
                    <tr>
                        <td>Customizable Strategies</td>
                        <td><span class="cross-icon">&#10006;</span> No</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                    </tr>
                    <tr>
                        <td>Advanced Backtesting</td>
                        <td><span class="cross-icon">&#10006;</span> No</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                    </tr>
                    <tr>
                        <td>Priority Support</td>
                        <td><span class="cross-icon">&#10006;</span> Standard</td>
                        <td><span class="check-icon">&#10003;</span> Premium 24/7</td>
                    </tr>
                    <tr>
                        <td>Exclusive Updates</td>
                        <td><span class="cross-icon">&#10006;</span> No</td>
                        <td><span class="check-icon">&#10003;</span> Yes</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section class="py-16 px-6 bg-gray-700 text-white text-center">
        <h2 class="text-4xl font-bold mb-6">Ready to Automate Your Trading?</h2>
        <p class="text-xl mb-8">Join thousands of traders who are maximizing their potential with TradeBotPro.</p>
        <button onclick="scrollToSection('pricing')" class="btn-primary text-lg md:text-xl font-semibold py-3 px-8 rounded-lg shadow-lg">
            Choose Your Plan
        </button>
    </section>

    <footer class="bg-gray-900 py-8 px-6 text-center text-gray-400">
        <p>&copy; 2023 TradeBotPro. All rights reserved.</p>
        <p class="mt-2 text-sm">
            <a href="/privacy" class="hover:text-white">Privacy Policy</a> | 
            <a href="/terms" class="hover:text-white">Terms of Service</a>
        </p>
    </footer>

    <div id="purchaseModal" class="modal hidden">
        <div class="modal-content text-white">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <h3 id="modalTitle" class="text-2xl font-bold mb-4 text-center">Processing Your Order...</h3>
            <p id="modalMessage" class="text-center text-lg">Please wait while we process your payment and generate your license.</p>
            <div id="loadingSpinner" class="flex justify-center mt-6">
                <svg class="animate-spin -ml-1 mr-3 h-10 w-10 text-green-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            </div>
            <div id="modalContentDetails" class="mt-6 text-left hidden">
                <p><strong>Download Link:</strong> <a id="downloadLink" href="#" class="text-green-400 hover:underline" target="_blank"></a></p>
                <p><strong>License Key:</strong> <span id="licenseKey" class="font-bold text-yellow-400 break-all"></span></p>
                <p class="mt-4 text-sm text-gray-400">Please save your license key and download the software. The download link is valid for a limited time.</p>
            </div>
            <div class="flex justify-center mt-6">
                <button id="closeModalButton" onclick="closeModal()" class="btn-primary py-2 px-6 rounded-lg hidden">Close</button>
            </div>
        </div>
    </div>

    <script>
        // Smooth scrolling for navigation
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({
                behavior: 'smooth'
            });
        }

        // Modal functionality
        const purchaseModal = document.getElementById('purchaseModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const modalContentDetails = document.getElementById('modalContentDetails');
        const downloadLinkElem = document.getElementById('downloadLink');
        const licenseKeyElem = document.getElementById('licenseKey');
        const closeModalButton = document.getElementById('closeModalButton');

        function openModal(title, message, showSpinner = true, showDetails = false) {
            modalTitle.textContent = title;
            modalMessage.textContent = message;
            if (showSpinner) {
                loadingSpinner.classList.remove('hidden');
            } else {
                loadingSpinner.classList.add('hidden');
            }
            if (showDetails) {
                modalContentDetails.classList.remove('hidden');
                closeModalButton.classList.remove('hidden');
            } else {
                modalContentDetails.classList.add('hidden');
                closeModalButton.classList.add('hidden');
            }
            purchaseModal.classList.remove('hidden');
            purchaseModal.classList.add('flex'); // Ensure flex is applied for centering
        }

        function closeModal() {
            purchaseModal.classList.add('hidden');
            purchaseModal.classList.remove('flex');
            // Reset modal content
            modalTitle.textContent = 'Processing Your Order...';
            modalMessage.textContent = 'Please wait while we process your payment and generate your license.';
            loadingSpinner.classList.remove('hidden');
            modalContentDetails.classList.add('hidden');
            closeModalButton.classList.add('hidden');
            downloadLinkElem.href = '#';
            downloadLinkElem.textContent = '';
            licenseKeyElem.textContent = '';
        }

        // --- IMPORTANT: CONFIGURE YOUR BACKEND URL AND PAYPAL CLIENT ID HERE ---
        // Get your Cloud Run URL from your Google Cloud Console.
        // It should look something like: https://YOUR_SERVICE_NAME-YOUR_PROJECT_HASH.REGION.run.app
        const BACKEND_BASE_URL = 'https://tradebotpro-backend-553116950013.us-central1.run.app'; // <--- UPDATED TO HTTPS
        const PAYPAL_CLIENT_ID = 'AbFAFD99aa0hCnoggRAkKPvSg7i-FBwF1jQvHIqRwIxhgN4nh6fXk_-hxClQj0hCgvbH7m8vT6d2sPHi'; // From tradebotprokeys and info.txt

        // Load PayPal SDK script dynamically (already present in your HTML, just ensure client-id is correct)
        // This line is already in your HTML head:
        // <script src="https://www.paypal.com/sdk/js?client-id=AbFAFD99aa0hCnoggRAkKPvSg7i-FBwF1jQvHIqRwIxhgN4nh6fXk_-hxClQj0hCgvbH7m8vT6d2sPHi&currency=USD"></script>
        // Make sure YOUR_PAYPAL_CLIENT_ID_HERE is replaced with the actual ID above.

        // Function to initialize PayPal buttons
        function initPayPalButtons() {
            try {
                // Render the Lite Version PayPal button
                paypal.Buttons({
                    style: {
                        layout: 'vertical',
                        color: 'blue',
                        shape: 'rect',
                        label: 'paypal'
                    },
                    createOrder: function(data, actions) {
                        openModal('Initiating Payment...', 'Preparing your Lite Version order...');
                        return fetch(`${BACKEND_BASE_URL}/api/create-paypal-order`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ product: 'lite' }) // Indicate product type
                        }).then(function(response) {
                            if (!response.ok) {
                                return response.json().then(errorData => {
                                    console.error('Backend error creating Lite order:', errorData);
                                    throw new Error(errorData.error || 'Failed to create PayPal order on backend.');
                                });
                            }
                            return response.json();
                        }).then(function(order) {
                            return order.orderID;
                        }).catch(function(error) {
                            console.error('Error creating Lite PayPal order:', error);
                            modalTitle.textContent = 'Payment Error';
                            modalMessage.textContent = 'Could not initiate Lite payment. Please try again.';
                            closeModalButton.classList.remove('hidden'); // Show close button on error
                            loadingSpinner.classList.add('hidden'); // Hide spinner
                            return Promise.reject(error); // Propagate the error to PayPal SDK
                        });
                    },
                    onApprove: function(data, actions) {
                        openModal('Processing Payment...', 'Please wait while we confirm your Lite Version payment and generate your license.');
                        return fetch(`${BACKEND_BASE_URL}/api/capture-paypal-order`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ orderID: data.orderID })
                        }).then(function(response) {
                            if (!response.ok) {
                                return response.json().then(errorData => {
                                    console.error('Backend error capturing Lite order:', errorData);
                                    throw new Error(errorData.message || 'Failed to capture PayPal payment on backend.');
                                });
                            }
                            return response.json();
                        }).then(function(details) {
                            console.log('Lite payment captured successfully:', details);
                            modalTitle.textContent = 'Purchase Complete!';
                            modalMessage.textContent = 'Thank you for your Lite Version purchase!';
                            loadingSpinner.classList.add('hidden');
                            modalContentDetails.classList.remove('hidden');
                            downloadLinkElem.href = details.download_url;
                            downloadLinkElem.textContent = 'Download TradeBotPro Lite';
                            licenseKeyElem.textContent = details.license_key || 'N/A';
                            closeModalButton.classList.remove('hidden'); // Show close button after success

                            // Optional: Redirect to success page or show a success message
                            // window.location.href = 'success.html'; 
                        }).catch(function(error) {
                            console.error('Error capturing Lite PayPal order:', error);
                            modalTitle.textContent = 'Payment Error';
                            modalMessage.textContent = 'An error occurred during payment capture for Lite Version. Please try again.';
                            closeModalButton.classList.remove('hidden'); // Show close button on error
                            loadingSpinner.classList.add('hidden'); // Hide spinner
                        });
                    },
                    onCancel: function(data) {
                        console.log('Lite payment cancelled:', data);
                        // Optional: Redirect to a cancel page or show a message
                        closeModal(); // Close the modal on cancel
                        // window.location.href = 'cancel.html';
                    },
                    onError: function(err) {
                        console.error('Lite PayPal button error:', err);
                        modalTitle.textContent = 'PayPal Error';
                        modalMessage.textContent = 'An error occurred during the Lite PayPal payment process. Please try again.';
                        closeModalButton.classList.remove('hidden'); // Show close button on error
                        loadingSpinner.classList.add('hidden'); // Hide spinner
                    }
                }).render('#paypal-button-container-lite');

                // Render the Pro Version PayPal button
                paypal.Buttons({
                    style: {
                        layout: 'vertical',
                        color: 'gold', // Gold for Pro version
                        shape: 'rect',
                        label: 'paypal'
                    },
                    createOrder: function(data, actions) {
                        openModal('Initiating Payment...', 'Preparing your Pro Version order...');
                        return fetch(`${BACKEND_BASE_URL}/api/create-paypal-order`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ product: 'full' }) // Indicate product type
                        }).then(function(response) {
                            if (!response.ok) {
                                return response.json().then(errorData => {
                                    console.error('Backend error creating Pro order:', errorData);
                                    throw new Error(errorData.error || 'Failed to create PayPal order on backend.');
                                });
                            }
                            return response.json();
                        }).then(function(order) {
                            return order.orderID;
                        }).catch(function(error) {
                            console.error('Error creating Pro PayPal order:', error);
                            modalTitle.textContent = 'Payment Error';
                            modalMessage.textContent = 'Could not initiate Pro payment. Please try again.';
                            closeModalButton.classList.remove('hidden'); // Show close button on error
                            loadingSpinner.classList.add('hidden'); // Hide spinner
                            return Promise.reject(error); // Propagate the error to PayPal SDK
                        });
                    },
                    onApprove: function(data, actions) {
                        openModal('Processing Payment...', 'Please wait while we confirm your Pro Version payment and generate your license.');
                        return fetch(`${BACKEND_BASE_URL}/api/capture-paypal-order`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ orderID: data.orderID })
                        }).then(function(response) {
                            if (!response.ok) {
                                return response.json().then(errorData => {
                                    console.error('Backend error capturing Pro order:', errorData);
                                    throw new Error(errorData.message || 'Failed to capture PayPal payment on backend.');
                                });
                            }
                            return response.json();
                        }).then(function(details) {
                            console.log('Pro payment captured successfully:', details);
                            modalTitle.textContent = 'Purchase Complete!';
                            modalMessage.textContent = 'Thank you for your Pro Version purchase!';
                            loadingSpinner.classList.add('hidden');
                            modalContentDetails.classList.remove('hidden');
                            downloadLinkElem.href = details.download_url;
                            downloadLinkElem.textContent = 'Download TradeBotPro Pro';
                            licenseKeyElem.textContent = details.license_key || 'N/A';
                            closeModalButton.classList.remove('hidden'); // Show close button after success

                            // Optional: Redirect to success page or show a success message
                            // window.location.href = 'success.html';
                        }).catch(function(error) {
                            console.error('Error capturing Pro PayPal order:', error);
                            modalTitle.textContent = 'Payment Error';
                            modalMessage.textContent = 'An error occurred during payment capture for Pro Version. Please try again.';
                            closeModalButton.classList.remove('hidden'); // Show close button on error
                            loadingSpinner.classList.add('hidden'); // Hide spinner
                        });
                    },
                    onCancel: function(data) {
                        console.log('Pro payment cancelled:', data);
                        closeModal(); // Close the modal on cancel
                        // window.location.href = 'cancel.html';
                    },
                    onError: function(err) {
                        console.error('Pro PayPal button error:', err);
                        modalTitle.textContent = 'PayPal Error';
                        modalMessage.textContent = 'An error occurred during the Pro PayPal payment process. Please try again.';
                        closeModalButton.classList.remove('hidden'); // Show close button on error
                        loadingSpinner.classList.add('hidden'); // Hide spinner
                    }
                }).render('#paypal-button-container-pro');
            } catch (e) {
                console.error("Error rendering PayPal buttons:", e);
                modalTitle.textContent = 'Payment System Error';
                modalMessage.textContent = 'There was an unexpected error initializing the payment buttons. Please try again later.';
                purchaseModal.classList.remove('hidden');
                purchaseModal.classList.add('flex');
            }
        }

        // Initialize PayPal buttons when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', initPayPalButtons);
    </script>
</body>
</html>
